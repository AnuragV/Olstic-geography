<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Break the Code: Arrange the Balloons</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      margin-top: 20px;
      color: #ff69b4;
    }

    .game-container {
      width: 90%;
      max-width: 1000px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .controls {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
    }

    .button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    .easy { background: green; color: white; }
    .medium { background: orange; color: white; }
    .hard { background: red; color: white; }

    .stats-container {
      display: flex;
      gap: 20px;
      margin-bottom: 10px;
    }

    .stat-box {
      background: yellow;
      color: #000;
      padding: 10px 15px;
      font-weight: bold;
      border-radius: 8px;
      min-width: 140px;
      text-align: center;
    }

    .balloon-table {
      display: flex;
      justify-content: center;
      align-items: flex-end;
      gap: 1vw;
      height: auto;
      margin: 20px 0;
    }

    .bowl {
      background: #444;
      border-radius: 50% 50% 0 0;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      overflow: visible;
      transition: all 0.3s;
    }

    .balloon {
      width: 60%;
      border-radius: 50%;
      position: relative;
      cursor: grab;
      transition: transform 0.2s;
    }

    .balloon:active {
      transform: scale(1.1);
    }

    .string {
      position: absolute;
      bottom: -40%;
      left: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 40%;
      background: black;
    }

    .guess-controls {
      display: flex;
      gap: 10px;
      margin: 15px 0;
    }

    .submit-btn, .new-code-btn, .reveal-btn {
      background: #ff69b4;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
    }

    .new-code-btn {
      background: white;
      color: #000;
    }

    .reveal-btn {
      width: calc(2 * 130px + 10px); /* matches sum of two buttons */
      background: #6a5acd;
    }

    .leaderboard {
      margin-top: 20px;
      text-align: center;
    }

    .leaderboard ul {
      list-style: none;
      padding: 0;
    }

    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #222;
      padding: 20px;
      border-radius: 8px;
      z-index: 100;
      display: none;
      max-width: 80%;
      color: #fff;
    }

    .modal h2 {
      margin-top: 0;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 99;
      display: none;
    }

    .info-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #fff;
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      text-align: center;
      cursor: pointer;
    }

    .code-display {
      display: flex;
      justify-content: center;
      gap: 1vw;
      margin-top: 20px;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <h1>Break the Code: Arrange the Balloons</h1>
  <div class="game-container">
    <div class="controls">
      <button class="button easy" onclick="setDifficulty('easy')">Easy</button>
      <button class="button medium" onclick="setDifficulty('medium')">Medium</button>
      <button class="button hard" onclick="setDifficulty('hard')">Hard</button>
    </div>

    <div class="stats-container">
      <div class="stat-box" id="attemptsBox">Attempts: 0</div>
      <div class="stat-box" id="correctBox">0 balloons are placed correctly</div>
    </div>

    <div class="balloon-table" id="balloonTable"></div>

    <div class="guess-controls">
      <button class="submit-btn" onclick="submitGuess()">Submit Guess</button>
      <button class="new-code-btn" onclick="newGame()">New Code</button>
    </div>
    <button class="reveal-btn" onclick="revealCode()">Reveal Code</button>

    <div class="code-display hidden" id="codeDisplay"></div>

    <div class="leaderboard" id="leaderboard"></div>
  </div>

  <button class="info-button" onclick="toggleInstructions()">?</button>
  <div class="overlay" id="overlay" onclick="toggleInstructions()"></div>
  <div class="modal" id="instructionsModal">
    <h2>How to Play</h2>
    <p>You have to guess the correct order of colored balloons (code). After each attempt, you'll see how many balloons are in the correct position. Rearrange and try again until you break the code! Use the mode buttons to switch between Easy (5 balloons), Medium (7), or Hard (9). You can reset the code using the 'New Code' button. Press 'Reveal Code' if you want to see the answer.</p>
  </div>

  <script>
    // JavaScript placeholder â€“ balloon size, drag logic, guess checking, leaderboard update, etc.
    // Will include per-difficulty leaderboard tracking and modal display logic
  </script>
</body>
</html>
